<i class="fa fa-step-backward" *ngIf="sourceKey" (click)="nav.back()"></i>
<p-blockUI [target]="pnl" [blocked]="blockedDocument"><i class="pi pi-lock" style="font-size: 3rem"></i></p-blockUI>
<form id="frm_geographymaster" [formGroup]="geographymaster_Form" (ngSubmit)="onSubmit()" [ngClass]="theme">
  <p-panel #pnl [showHeader]="false">
    <app-title reportcode="" title="Masters" [f]="f" [data]="data" [maindata]="maindata" [p_menuid]="p_menuid"
      [action]="action" (edit)="edit_geographymasters()" (first)="first()" (prev)="prev()"
      (onSelectedpk)="onSelectedpk($event)" (next)="next()" (last)="last()" (resetForm)="resetForm()"
      (onSubmit)="onSubmit()" (onDelete)="onDelete()" (onCopy)="onCopy()" (onCopyDetails)="onCopyDetails()"
      (onCopycursive)="onCopyRecursive()" (onClose)="onClose()" (afterAction)="afterAction"
      (onSubmitAndWait)="onSubmitAndWait()" (onChangeAction)="onChangeAction()"></app-title>
    <p-scrollTop></p-scrollTop>
    <p-scrollPanel #panelscroller [style]="maindata?sharedService.dialogScreenSize:sharedService.mainScreenSize"
      styleClass="custom">
      <div class="container1  ui-fluid p-grid"
        id="{{maindata ==undefined || maindata==null || maindata.ScreenType!=2?'contentAreascroll':'contentArea1'}}">
        <div class="w-5" *ngIf="showFormType=='1'" style="margin-top:10px!important">
          <div (click)="PrevForm()"><i title="Form" class="fa fa-file"></i></div>
        </div>
        <div *ngIf="!showview" id="div_geographymasters"></div>
        <div *ngIf="showview" id="div_geographymasters"></div>
        <div *ngIf="(viewHtml != '' && showview)" [innerHTML]='getHtml(viewHtml)'>

        </div>
        <div *ngIf="hidelist.indexOf('geoname')<0" class="  p-float-label  p-col-12 p-md-3">

          <label *ngIf="showview" class="labelview p-inputwrapper-filled">{{f.geoname?.value}}</label>
          <input type="text" pInputText *ngIf="!showview" id="geoname" required
            pTooltip="{{'Enter' | translate}} {{'geoname' | translate}}" formControlName="geoname"
            class="  p-form-control p-inputtext-sm p-field">
          <label for="geoname" class="control-label required">{{'Geo Name' | translate}}</label>
          <app-field-error-display [displayError]="f.geoname.errors?.required"
            errorMsg="{{'Enter'| translate}} {{'Geo Name' | translate}}">
          </app-field-error-display>
        </div>
        <div *ngIf="hidelist.indexOf('geocode')<0" class="  p-float-label  p-col-12 p-md-3">

          <label *ngIf="showview" class="labelview p-inputwrapper-filled">{{f.geocode?.value}}</label>
          <input type="text" pInputText *ngIf="!showview" id="geocode" required
            pTooltip="{{'Enter' | translate}} {{'geocode' | translate}}" formControlName="geocode"
            class="  p-form-control p-inputtext-sm p-field">
          <label for="geocode" class="control-label required">{{'Geo Code' | translate}}</label>
          <app-field-error-display [displayError]="f.geocode.errors?.required"
            errorMsg="{{'Enter'| translate}} {{'Geo Code' | translate}}">
          </app-field-error-display>
        </div>
        <div *ngIf="hidelist.indexOf('chargepercent')<0" class="  p-float-label  p-col-12 p-md-3">

          <label *ngIf="showview" class="labelview p-inputwrapper-filled">{{f.chargepercent?.value}}</label>
          <input type="text" pInputText *ngIf="!showview" id="chargepercent"
            pTooltip="{{'Enter' | translate}} {{'chargepercent' | translate}}" formControlName="chargepercent"
            class="  p-form-control p-inputtext-sm p-field">
          <label for="chargepercent" class="control-label">{{'Charge Percent' | translate}}</label>
        </div>
        <div *ngIf="hidelist.indexOf('vat')<0" class="  p-float-label  p-col-12 p-md-3">

          <label *ngIf="showview" class="labelview p-inputwrapper-filled">{{f.vat?.value}}</label>
          <input type="text" pInputText *ngIf="!showview" id="vat"
            pTooltip="{{'Enter' | translate}} {{'vat' | translate}}" formControlName="vat"
            class="  p-form-control p-inputtext-sm p-field">
          <label for="vat" class="control-label">{{'V A T' | translate}}</label>
        </div>
        <div *ngIf="hidelist.indexOf('useraccess')<0" class="  p-float-label  p-col-12 p-md-3">

          <label *ngIf="showview" class="labelview p-inputwrapper-filled">{{f.useraccess?.value}}</label>
          <input type="text" pInputText *ngIf="!showview" id="useraccess"
            pTooltip="{{'Enter' | translate}} {{'useraccess' | translate}}" formControlName="useraccess"
            class="  p-form-control p-inputtext-sm p-field">
          <label for="useraccess" class="control-label">{{'User Access' | translate}}</label>
        </div>
        <!-- child table citymasters-->
        <div>
          <!--End-->
          <h4 class="form-group sticky1  columns left">{{'Masters' | translate}}
            <a *ngIf="formid" class="rightside" [routerLink]='' (click)="AddOrEdit_citymaster(null, null, formid)"><i
                class="fa fa-plus"></i></a>
          </h4>
          <div [ngClass]="maindata?.ScreenType==2?'dialogscreen':'mainscreen'">
            <ngx-reportviewer viewtype="'1'" #tbl_citymasters (onExecute)="onExecute_citymasters($event)">
            </ngx-reportviewer>
          </div>
        </div>
        <!--End of child table citymasters-->
        <!-- child table geoaccesses-->
        <div>
          <!--End-->
          <h4 class="form-group sticky1  columns left">{{'Accesses' | translate}}
            <a *ngIf="formid" class="rightside" [routerLink]='' (click)="AddOrEdit_geoaccess(null, null, formid)"><i
                class="fa fa-plus"></i></a>
          </h4>
          <div [ngClass]="maindata?.ScreenType==2?'dialogscreen':'mainscreen'">
            <ngx-reportviewer viewtype="'1'" #tbl_geoaccesses (onExecute)="onExecute_geoaccesses($event)">
            </ngx-reportviewer>
          </div>
        </div>
        <!--End of child table geoaccesses-->
      </div>
      <p-scrollTop target="parent" styleClass="custom-scrolltop" [threshold]="100" icon="pi pi-arrow-up"></p-scrollTop>
    </p-scrollPanel>
  </p-panel>
</form>